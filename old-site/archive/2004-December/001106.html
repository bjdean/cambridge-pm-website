<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [cam.pm] Christmas again
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:cam.pm%40cam.pm.org">
   <META NAME="robots" CONTENT="index,nofollow">
   
   
   <LINK REL="Next"  HREF="001107.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[cam.pm] Christmas again
   </H1>
    <B>Matthew Byng-Maddick
    </B> 
    <A HREF="mailto:cam.pm%40cam.pm.org"
       TITLE="[cam.pm] Christmas again">cam.pm@cam.pm.org
       </A><BR>
    <I>Mon, 6 Dec 2004 10:46:32 +0000</I>
    <P><UL>
        
        <LI> Next message: <A HREF="001107.html">[cam.pm] Christmas again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1106">[ date ]</a>
              <a href="thread.html#1106">[ thread ]</a>
              <a href="subject.html#1106">[ subject ]</a>
              <a href="author.html#1106">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>For this year, 2004, I should point you all at Mark's Perl Advent Calendar
<A HREF="http://www.perladvent.org/2004/,">http://www.perladvent.org/2004/,</A> and I also present you with the following
stocking filler. Enjoy:


                                            $x=chr(0x20);sub
                                   P{<A HREF="mailto:print@_">print@_</A>}$D=qq(/X\\);sub
                      S{substr($_[0],$_[1],$_[2])=$_[3]};sub
        i{$n=1;$L++;$X=40-($Y=2);$V=0.01;$S=4}$Z=sqrt(2);sub
         d{$t=&quot;X$_[0]X&quot;;$t=~s/X/$x/g;map{S($o,$_,15,&quot;*&quot;x15)}
         (822,980);S($o,901,15,&quot;*&quot;.$t.&quot;*&quot;);}$Z=1/$Z;/./;sub
         l{system('stty',($_[0]?&quot;&quot;:&quot;-&quot;).'cbreak',($_[0]?&quot;-&quot;
         :&quot;&quot;).'echo');$_[0]&amp;&amp;P(&quot;\e[H\eJ&quot;)}$A=((&quot;$x&quot;x78).&quot;&quot;.
         &quot;\n&quot;)x23;$b=[[[3,3,3,3,0],',,,||'],[[3,3,3,3,0],''
         .'..x//'],[[3,3,0,7,0],q(`====')],[[3,3,0,3,6],&quot;x&quot;
         .'xx\\\\//``'],[[3,3,0,3,3],q/||||||''/],[[3,3,0,6
         ,3],q,././//'',],[[3,3,0,7,0],'===`=='],[[3,3,3,3,
          0],',,.\\\\']];$E=&quot;LXEXVXEXLX&quot;;$y=32767;$z=96;sub
          v{$V*=0.85;$i=$S%4?($S&lt;4?1:-1):0;$j=($S-2)%4?(($S
          -2)%8&lt;4?1:-1):0;$t=$S%1?$Z:1;$V+=$j*($j&lt;0?0.0200:
          0.05-0.01*($S%1));$X+=$i*$t*$V;$Y+=$j*$t*$V};;sub
          o{for$k(0..$_[0]-&gt;[0]-&gt;[0]-1){for$l(1..$_[0]-&gt;[0
          ]-&gt;[1]){($_[0]-&gt;[2]-&gt;[$l-1]&amp;(2**$k))&amp;&amp;$_[1]+$k&lt;=
          77&amp;&amp;$_[1]+$k&gt;=0&amp;&amp;$_[2]+$l-$_[0]-&gt;[0]-&gt;[1]&gt;=0&amp;&amp;($
           O-&gt;[$_[2]+$l-$_[0]-&gt;[0]-&gt;[1]]-&gt;[$_[1]+$k]=1)}}}
           $B=&quot;CXRXAXSXHX!&quot;;$z=16385;$a=[[[3,4,2,7,7,2],&quot;&quot;
           .&quot;X.X$D$D.|&quot;,[0,0,2,2]],[[3,2,2,7],'(_)(_)',[0,
           7]],[[6,4,12,30,63,12],&quot;///\\////XX\\|/____\\_&quot;
           .&quot;.||&quot;,[0,0,12,12]],[[15,06,$y,$y,$y,$z,$z,$z],
           &quot;.&quot;.(&quot;_&quot;x13).&quot;.|XFXIXNXIXSXHX||&quot;.(&quot;_&quot;x13).q,|,.
           (&quot;|&quot;.(&quot;X&quot;x13).&quot;|&quot;)x3,[0,0,0,0,0,$z]]];/mbm/;sub
            C{($k,$l)=(int($X),int$Y);($k&lt;0||$k&gt;77)&amp;&amp;$c++;
            for$i(0..2){for$j(0..2){($$b[$S][0][2+$j]&amp;(02
	    **$i))&amp;&amp;$l-$j&gt;=00&amp;&amp;$$O[$l+1-$j][$k+$i]&amp;&amp;$c++}
	    }$c&amp;&amp;d($B)};$W=&quot;keys_are_j_and_k.q-_quit&quot;;sub
             R{$o=$A;$l=($_[1]-4&lt;0)?0:($_[1]+19&gt;@$C)?@$C-
             23:$_[1]-4;for$j(0..$#$C){$$C[$j+$l]||next;;
             for$i(0..$#{$$C[$l+$j]}){$$C[$j+$l][$i]&amp;&amp;r($
             i,$j,$$C[$j+$l][$i])}$j+$l-$_[1]||r($_[0],$j
             ,$b-&gt;[$S])}}sub#V{return(int(rand(482)));};;
             r{($g,$h)=@_;$f=$_[2][0][1];while($h&gt;=0&amp;&amp;$f
             &gt;0){$f--;for$e(0..$_[2][0][00]-1){if($h&lt;=22
             &amp;&amp;$e+$g&gt;=0&amp;&amp;$e+$g&lt;=77&amp;&amp;((2**$e)&amp;$_[2][0][2+
             $f])){$t=substr($_[2][1],$f*$_[2][0][0]+$e,
             1);$t=~s/X/$x/g;S($o,79*$h+$e+$g,1,$t)}}--$
             h}}sub#f{$S++;$e=$j+$$b[$S][0];$f=$i+2}sub
              L{l(1);&amp;i;for(;!$d;++$v&gt;999?$v=0:do{/./;(
              select$_=chr(1),&quot;&quot;,&quot;&quot;,0)[0]||next;sysread
              STDIN,$_,1}){$S=($S+(/j/?1:/k/?-1:0))%8;;
              /q/&amp;&amp;($d=1);$n&amp;&amp;p();&amp;v;R(int($X),int$Y);$
              n&amp;&amp;B();&amp;C;P(&quot;\e[;H$o&quot;);$n&amp;&amp;($n--,sleep(2)
              );$c&amp;&amp;($d++,sleep(2));int$Y==@$C&amp;&amp;(i,($L-
              10||$d++),sleep(2))}l()}sub#k{$_[0]+9}sub
              p{$t=int(sqrt($L)*45);$C=[];$O=[];;for$i(0
             ..$t){push(@$C,[]);push(@$O,[])}for$i(0..(40
             *$L)){$$C[U($t)][U(78)]=$$a[U(3)]}$$C[-2][U(20)
            +20]=$$a[3];for$j(0..$t){for$i(0..$#{$$C[$j]}){$$C
            [$j]-&gt;[$i]&amp;&amp;o($C-&gt;[$j]-&gt;[$i],$i,$j);}}}/#######/;sub
            B{d($E.$L)}sub#_{$W=$W.qq.\n_-_downhill__racer_-\n\n.}
            U{int(rand($_[0]))};L()#______________________________##
             #______________________________________________________###
             #_________________________________________________________###
              #_____________D_O_W_N_H_I_L_L___R_A_C_E_R___________________##
               #____________________________________________________________#
                ####__________by__mbm__Christmas_2004________________________#
                    #######__________________________________________________#
                          ###_______Happy_Christmas,_Perlmongers____________##
                             ###__________________________________________##
                                ##_____j_-_clockwise__________________####
                                  ###__k_-_anticlockwise__________####
                                     ########_q_-_quit_____#######
                                             ##############


Sometime in the new year, I'll probably post a breakdown of how it works and
syntax highlit version.

Cheers

MBM

-- 
Matthew Byng-Maddick          &lt;<A HREF="mailto:mbm@colondot.net">mbm@colondot.net</A>&gt;           <A HREF="http://colondot.net/">http://colondot.net/</A>
                      (Please use this address to reply)


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI> Next message: <A HREF="001107.html">[cam.pm] Christmas again
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1106">[ date ]</a>
              <a href="thread.html#1106">[ thread ]</a>
              <a href="subject.html#1106">[ subject ]</a>
              <a href="author.html#1106">[ author ]</a>
         </LI>
       </UL>
</body></html>
